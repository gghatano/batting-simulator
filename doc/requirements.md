# Requirements

## 0. 前提

* 実行環境：ブラウザ（サーバ無し）
* データ：`public/players.json`（静的配信）。初期は1シーズン固定でも可
* 画面：2画面（SPA内でタブ切替）
* データの出典・整形は別タスク（まずはフォーマット固定で進める）

## 1. 機能0：選手一覧（カード）

* 左カラムに選手カード一覧
* フィルタ
  * チーム選択（必須）
  * 名前検索（任意、部分一致）
  * ソート（任意：PA降順、HR/PA降順、OPS降順など）
* カード表示（最低限）
  * 名前、チーム
  * PA、1B/2B/3B/HR、BB+HBP、SO
  * 派生率（表示用）：各イベント/PA（小数3桁程度）

## 2. 機能1（画面1）：打線作成

* レイアウト：左＝選手一覧、右＝打線（1〜9番）
* 打順枠を選択 → 選手カードの「追加」で枠に投入
* 重複可（同一選手を複数枠に置ける）
* 枠操作
  * 枠クリア
  * 全クリア
  * 上下入れ替え（↑↓）

## 3. 機能2（画面2）：評価（確率計算＋シミュレーション）

### 打者イベント率

* 打者ごとに以下率を計算（分母 PA）
  * 1B/2B/3B/HR/K/BB+HBP/OUT
* イベント率に「その他アウト」を含める（pOUTで吸収）
* 初期は「K」と「OUT」を同一扱いにしても良いが、表示上は分ける（K率は見たい）

### シミュレーション

* 9回、延長なし
* 試行回数N：デフォルト10,000（UIで変更：1,000〜100,000）
* seed指定（任意、未指定ならランダム）
* 出力：平均得点、中央値、P10/P90、得点分布（0点〜上限は動的）

### 進塁ルール（初期・簡易）

* BB/HBP：強制進塁（満塁なら得点）
* 1B：3塁走者得点、2塁走者得点、1塁走者2塁、打者1塁
* 2B：3塁/2塁走者得点、1塁走者3塁、打者2塁
* 3B：走者全員得点、打者3塁
* HR：全員得点
* K/OUT：アウト加算、走者変化なし

### バリデーション

* 打線に未設定枠がある場合：シミュレーション実行不可（理由表示）
* PA=0：実行不可
